import{_ as B,t as D,k as O,a as J,b as v,c as Y,d as Z,f as ee,g as I,h as te,m as re,i as ne,n as ae,j as ie,l as U,o as N,S as L,p as d,q as y,s as m,A as h,r as b,u as w,v as se,w as oe,T as E}from"./essence-names-store-e979bbf8.js";var ce=B(function(e){return function(){return e}}),ue=ce;function le(t){return t}var fe=B(le),z=fe;function F(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}function T(t,e,r){for(var n=0,a=r.length;n<a;){if(t(e,r[n]))return!0;n+=1}return!1}function pe(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function ye(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var $=typeof Object.is=="function"?Object.is:ye;function k(t,e,r,n){var a=F(t),i=F(e);function s(c,o){return G(c,o,r.slice(),n.slice())}return!T(function(c,o){return!T(s,o,c)},i,a)}function G(t,e,r,n){if($(t,e))return!0;var a=D(t);if(a!==D(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(a){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&pe(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&$(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!$(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var i=r.length-1;i>=0;){if(r[i]===t)return n[i]===e;i-=1}switch(a){case"Map":return t.size!==e.size?!1:k(t.entries(),e.entries(),r.concat([t]),n.concat([e]));case"Set":return t.size!==e.size?!1:k(t.values(),e.values(),r.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=O(t);if(s.length!==O(e).length)return!1;var c=r.concat([t]),o=n.concat([e]);for(i=s.length-1;i>=0;){var f=s[i];if(!(J(f,e)&&G(e[f],t[f],c,o)))return!1;i-=1}return!0}var me=v(function(e,r){return G(e,r,[],[])}),V=me;function Pe(t,e,r){var n,a;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(n=1/e;r<t.length;){if(a=t[r],a===0&&1/a===n)return r;r+=1}return-1}else if(e!==e){for(;r<t.length;){if(a=t[r],typeof a=="number"&&a!==a)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(e===null)return t.indexOf(e,r)}for(;r<t.length;){if(V(t[r],e))return r;r+=1}return-1}function C(t,e){return Pe(e,t,0)>=0}function de(t){return Object.prototype.toString.call(t)==="[object Object]"}var ge=function(){function t(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return t.prototype.add=function(e){return!Q(e,!0,this)},t.prototype.has=function(e){return Q(e,!1,this)},t}();function Q(t,e,r){var n=typeof t,a,i;switch(n){case"string":case"number":return t===0&&1/t===-1/0?r._items["-0"]?!0:(e&&(r._items["-0"]=!0),!1):r._nativeSet!==null?e?(a=r._nativeSet.size,r._nativeSet.add(t),i=r._nativeSet.size,i===a):r._nativeSet.has(t):n in r._items?t in r._items[n]?!0:(e&&(r._items[n][t]=!0),!1):(e&&(r._items[n]={},r._items[n][t]=!0),!1);case"boolean":if(n in r._items){var s=t?1:0;return r._items[n][s]?!0:(e&&(r._items[n][s]=!0),!1)}else return e&&(r._items[n]=t?[!1,!0]:[!0,!1]),!1;case"function":return r._nativeSet!==null?e?(a=r._nativeSet.size,r._nativeSet.add(t),i=r._nativeSet.size,i===a):r._nativeSet.has(t):n in r._items?C(t,r._items[n])?!0:(e&&r._items[n].push(t),!1):(e&&(r._items[n]=[t]),!1);case"undefined":return r._items[n]?!0:(e&&(r._items[n]=!0),!1);case"object":if(t===null)return r._items.null?!0:(e&&(r._items.null=!0),!1);default:return n=Object.prototype.toString.call(t),n in r._items?C(t,r._items[n])?!0:(e&&r._items[n].push(t),!1):(e&&(r._items[n]=[t]),!1)}}var R=ge;function _e(t){var e=Object.prototype.toString.call(t);return e==="[object Uint8ClampedArray]"||e==="[object Int8Array]"||e==="[object Uint8Array]"||e==="[object Int16Array]"||e==="[object Uint16Array]"||e==="[object Int32Array]"||e==="[object Uint32Array]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object BigInt64Array]"||e==="[object BigUint64Array]"}var he=B(function(e){return e!=null&&typeof e["fantasy-land/empty"]=="function"?e["fantasy-land/empty"]():e!=null&&e.constructor!=null&&typeof e.constructor["fantasy-land/empty"]=="function"?e.constructor["fantasy-land/empty"]():e!=null&&typeof e.empty=="function"?e.empty():e!=null&&e.constructor!=null&&typeof e.constructor.empty=="function"?e.constructor.empty():Y(e)?[]:Z(e)?"":de(e)?{}:ee(e)?function(){return arguments}():_e(e)?e.constructor.from(""):void 0}),ve=he,Se=function(){function t(e,r){this.xf=r,this.f=e,this.set=new R}return t.prototype["@@transducer/init"]=I.init,t.prototype["@@transducer/result"]=I.result,t.prototype["@@transducer/step"]=function(e,r){return this.set.add(this.f(r))?this.xf["@@transducer/step"](e,r):e},t}(),Be=v(function(e,r){return new Se(e,r)}),Ne=Be,be=v(te([],Ne,function(t,e){for(var r=new R,n=[],a=0,i,s;a<e.length;)s=e[a],i=t(s),r.add(i)&&n.push(s),a+=1;return n})),Ae=be,Le=B(function(e){return e!=null&&V(e,ve(e))}),K=Le,$e=v(function(e,r){return function(n){return function(a){return re(function(i){return r(i,a)},n(e(a)))}}}),we=$e,Ge=v(function(e,r){return e.map(function(n){for(var a=r,i=0,s;i<n.length;){if(a==null)return;s=n[i],a=ne(s)?ae(s,a):a[s],i+=1}return a})}),Me=Ge,je=v(function(e,r){return Me([e],r)[0]}),qe=je,De=B(function(e){return we(qe(e),ie(e))}),Oe=De,Ie=v(function(e,r){for(var n={},a={},i=0,s=e.length;i<s;)a[e[i]]=1,i+=1;for(var c in r)a.hasOwnProperty(c)||(n[c]=r[c]);return n}),S=Ie,x=function(t){return{value:t,map:function(e){return x(e(t))}}},Ee=U(function(e,r,n){return e(function(a){return x(r(a))})(n).value}),Fe=Ee,Te=U(function(e,r,n){return Fe(e,ue(r),n)}),ke=Te;const Ce=(t,e)=>t.split(".").map(n=>Number.isInteger(Number.parseInt(n))?e(Number.parseInt(n)):e(n)).flat(),Qe=(t,e=z)=>Object.keys(t).map(r=>{const n=t[r],a=Ce(r,e),i=Oe(a);return ke(i,n)}),M=(t,e,r=z)=>Qe(t,r).reduce((a,i)=>i(a),e),Ue=t=>typeof t=="number"?["li",t]:t==="DisplayName"?`${h}DisplayName`:t,X=t=>t.reduce((e,r)=>{if(r.Parts){const n=r.Parts.li.map(a=>({...m(a),PartGroup:r.PartGroup+"."+r.Name,ParentName:r.ParentName,ParentDisplayName:r.ParentDisplayName}));return[...e,S(["Parts"],r),...X(n)]}else return[...e,r]},[]),ze=async()=>{const t=L.map(c=>c.setting),e=L.map(c=>c.language),r=await Promise.all([...t.map(c=>d(c))]),n=await Promise.all([...e.map(c=>y(c))]),a=r.map((c,o)=>{const l=M(n[o].Texts.List.Text,c.BodyDefs.List.BodyDef,Ue).Part.Parts.li.map(u=>{var P;if((P=u.Parts)!=null&&P.li)return u.Parts.li.map(p=>m({...p,PartGroup:u[`${h}Name`],ParentName:u[`${h}Name`],ParentDisplayName:u[`${h}DisplayName`]}))}).flat().filter(u=>!K(u)&&u!==void 0&&u.Kind!=="Meridian");return X(l).map(u=>S(["Function","Rate","Deadly","CantPractice"],u))}),i=L.reduce((c,o,f)=>({...c,[o.key]:a[f].map(l=>l.Name).filter(l=>{var u;return!((u=o.excludeNames)!=null&&u.includes(l))})}),{}),s=Ae(c=>c.Name,a.flat());return{species:i,...b(s,"Name")}},Je=N(ze),Ve=async()=>{const t=await Promise.all([d("Practice/BodyPractice/SuperPart/SuperPart_All_Gong1"),d("Practice/BodyPractice/SuperPart/SuperPart_All_Gong2"),d("Practice/BodyPractice/SuperPart/SuperPart_All_Gong3"),d("Practice/BodyPractice/SuperPart/SuperPart_All_Gong5")]),r=(await Promise.all([y("Practice/BodyPractice/SuperPart/SuperPart_All_Gong1"),y("Practice/BodyPractice/SuperPart/SuperPart_All_Gong2"),y("Practice/BodyPractice/SuperPart/SuperPart_All_Gong3"),y("Practice/BodyPractice/SuperPart/SuperPart_All_Gong5")])).map(a=>a.Texts.List.Text),n=t.map((a,i)=>a.BPSuperPartDefs.List.Def.map((c,o)=>{const f=M(r[i][o],c,l=>typeof l=="number"?["li",l]:l);return{DisplayName:`${f.Prefix} ${f.Suffix}`,...S(["AtkAni","DefAni","AtkEffect","DefEffect","EffectColor","Parts","Levels","Prefix","Suffix"],m(f)),Parts:f.Parts.li.map(l=>({...m(l),Labels:l.Labels.li.map(u=>{const P=m(u);return{...P,Levels:P.Levels.split(",").map(p=>Number.parseInt(p))}})})),Levels:f.Levels.li.map(l=>{var u,P,p;return{...l,SuperPartProperties:(p=(P=(u=l.SuperPartProperties)==null?void 0:u.li)==null?void 0:P.map(_=>{const g=m(_);return g.BAddV?g.BAddV=Number.parseFloat(g.BAddV):g.AddP?g.AddP=Number.parseFloat(g.AddP):g.AddV&&(g.AddV=Number.parseFloat(g.AddV)),g}))!=null?p:[]}})}})).flat();return b(n,"Name")},Ye=N(Ve),Re=(t,e)=>{const r=M(e,t.Gongs.List.Gong,n=>n==="Stages"?["Stages","Stage"]:n);return m({...r,Magic:r.Magic.li,SuperParts:[...r.SuperParts.li,...r.Stages.Stage.map(n=>{var i,s;return(s=(i=n.Necks[0].Neck.SuperParts)==null?void 0:i.li)!=null?s:[]}).flat()],QuenchingMethods:[...r.QuenchingMethods.li,...r.Stages.Stage.map(n=>{var i,s;return(s=(i=n.Necks[0].Neck.QuenchingMethods)==null?void 0:i.li)!=null?s:[]}).flat()],Stages:r.Stages.Stage.map(n=>{var i,s;const a=n.Necks[0].Neck;return m({...n,Necks:m({...a,QuenchingMethods:(i=a.QuenchingMethods)==null?void 0:i.li,SuperParts:(s=a.SuperParts)==null?void 0:s.li})})})})},Ke=async()=>{const t=await Promise.all([d("Practice/Gong/Body/Body_Gong_1"),d("Practice/Gong/Body/Body_Gong_2"),d("Practice/Gong/Body/Body_Gong_3"),d("Practice/Gong/Body/Body_Gong_5")]),r=(await Promise.all([y("Practice/Gong/Body/Body_Gong_1"),y("Practice/Gong/Body/Body_Gong_2"),y("Practice/Gong/Body/Body_Gong_3"),y("Practice/Gong/Body/Body_Gong_5")])).map(a=>S([`${h}Name`],a.Texts.List.Text)),n=t.map((a,i)=>Re(a,r[i])).map(a=>({...S(["Magic","GongKind","Hide","ElementKind","SelectDesc","FiveBaseNeed","Stages"],a)}));return b(n,"Name")},Ze=N(Ke),H=({Name:t,...e})=>e.AddV?{Name:t,AddV:Number.parseFloat(e.AddV)}:e.AddP?{Name:t,AddP:Number.parseFloat(e.AddP)}:{Name:t,BAddV:Number.parseFloat(e.BAddV)},xe=["BQLabel_LOST"],Xe=async()=>{const[t,e,r]=await Promise.all([d("Practice/BodyPractice/LabelCache/LabelCache"),d("Practice/BodyPractice/QuenchingLabel/QuenchingLabel"),y("Practice/BodyPractice/QuenchingLabel/QuenchingLabel")]),n=t.BPLabelCacheDefs.List.Def.reduce((o,f)=>{if(f&&f.Labels){const l=f[`${h}Name`],u=P=>({...m(P),CacheName:l});return f.Labels.li.forEach(P=>{const p=u(P);o[p.Label]=p}),o}else return o},{}),a=e.BodyQuenchingLabelDefs.List.Def.map(o=>{var l;return{...m(o),Modifier:[o.Modifier],SuperPartProperties:(l=o.SuperPartProperties)==null?void 0:l.li.map(u=>H(m(u)))}}),i=w(se("Name"),r.Texts.List.Text.map(o=>oe(`${h}Name`,"Name",o))),c=a.filter(o=>!!o&&!xe.includes(o.Name)).map(o=>({...o,...i[o.Name],...n[o.Name]})).map((o,f,l)=>E[o.Name]?E[o.Name].inherits.map(p=>l.find(_=>_.Name===p)).filter(p=>p).reduce((p,_)=>{var j,q;const g=[...p.Modifier,..._.Modifier].filter(A=>A&&!K(A)),W=[...(j=p==null?void 0:p.SuperPartProperties)!=null?j:[],...(q=_==null?void 0:_.SuperPartProperties)!=null?q:[]].filter(A=>A);return{...p,Modifier:g,SuperPartProperties:W}},o):o);return b(c,"Name")},et=N(Xe),He=async()=>{const t=await Promise.all([d("Modifiers/BodyPractice/Modifier_BodyPractice_QuenchingLabel"),d("Modifiers/BodyPractice/Modifier_BodyPractice_SuperPart")]),e=await Promise.all([y("Property/BodyPraticeProperty"),y("Property/FightProperty"),y("Property/PracticeProperty"),y("Property/RoleProperty")]),r=await Promise.all([y("Modifiers/BodyPractice/Modifier_BodyPractice_QuenchingLabel"),y("Modifiers/BodyPractice/Modifier_BodyPractice_SuperPart")]),n=w(s=>s.Name,r.flatMap(s=>s.Texts.List.Text).map(s=>m(s))),a=w(s=>s.Name,e.flatMap(s=>s.Texts.List.Text.map(c=>m(c)))),i=t.flatMap(s=>s.ModifierDefs.List.Modifier).map(s=>({...m(s),Properties:s.Properties.li.map(c=>{const o=H(m(c));return{...o,...a[o.Name]}}),...n[s[`${h}Name`]]}));return b(i,"Name")},tt=N(He);export{de as _,Ze as a,Je as b,C as c,R as d,K as e,z as i,et as l,tt as m,S as o,Ye as s,Ae as u};
