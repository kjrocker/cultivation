import{w as ke}from"./index-48b960f4.js";var R={},L={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+e+"]["+n+"]*",s=new RegExp("^"+r+"$"),i=function(a,u){const c=[];let f=u.exec(a);for(;f;){const l=[];l.startIndex=u.lastIndex-f[0].length;const d=f.length;for(let g=0;g<d;g++)l.push(f[g]);c.push(l),f=u.exec(a)}return c},o=function(a){const u=s.exec(a);return!(u===null||typeof u=="undefined")};t.isExist=function(a){return typeof a!="undefined"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,u,c){if(u){const f=Object.keys(u),l=f.length;for(let d=0;d<l;d++)c==="strict"?a[f[d]]=[u[f[d]]]:a[f[d]]=u[f[d]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=o,t.getAllMatches=i,t.nameRegexp=r})(L);const V=L,Ye={allowBooleanAttributes:!1,unpairedTags:[]};R.validate=function(t,e){e=Object.assign({},Ye,e);const n=[];let r=!1,s=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let i=0;i<t.length;i++)if(t[i]==="<"&&t[i+1]==="?"){if(i+=2,i=J(t,i),i.err)return i}else if(t[i]==="<"){let o=i;if(i++,t[i]==="!"){i=K(t,i);continue}else{let a=!1;t[i]==="/"&&(a=!0,i++);let u="";for(;i<t.length&&t[i]!==">"&&t[i]!==" "&&t[i]!=="	"&&t[i]!==`
`&&t[i]!=="\r";i++)u+=t[i];if(u=u.trim(),u[u.length-1]==="/"&&(u=u.substring(0,u.length-1),i--),!je(u)){let l;return u.trim().length===0?l="Invalid space after '<'.":l="Tag '"+u+"' is an invalid name.",m("InvalidTag",l,N(t,i))}const c=Ve(t,i);if(c===!1)return m("InvalidAttr","Attributes for '"+u+"' have open quote.",N(t,i));let f=c.value;if(i=c.index,f[f.length-1]==="/"){const l=i-f.length;f=f.substring(0,f.length-1);const d=Q(f,e);if(d===!0)r=!0;else return m(d.err.code,d.err.msg,N(t,l+d.err.line))}else if(a)if(c.tagClosed){if(f.trim().length>0)return m("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",N(t,o));{const l=n.pop();if(u!==l.tagName){let d=N(t,l.tagStartPos);return m("InvalidTag","Expected closing tag '"+l.tagName+"' (opened in line "+d.line+", col "+d.col+") instead of closing tag '"+u+"'.",N(t,o))}n.length==0&&(s=!0)}}else return m("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",N(t,i));else{const l=Q(f,e);if(l!==!0)return m(l.err.code,l.err.msg,N(t,i-f.length+l.err.line));if(s===!0)return m("InvalidXml","Multiple possible root nodes found.",N(t,i));e.unpairedTags.indexOf(u)!==-1||n.push({tagName:u,tagStartPos:o}),r=!0}for(i++;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="!"){i++,i=K(t,i);continue}else if(t[i+1]==="?"){if(i=J(t,++i),i.err)return i}else break;else if(t[i]==="&"){const l=Me(t,i);if(l==-1)return m("InvalidChar","char '&' is not expected.",N(t,i));i=l}else if(s===!0&&!H(t[i]))return m("InvalidXml","Extra text at the end",N(t,i));t[i]==="<"&&i--}}else{if(H(t[i]))continue;return m("InvalidChar","char '"+t[i]+"' is not expected.",N(t,i))}if(r){if(n.length==1)return m("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",N(t,n[0].tagStartPos));if(n.length>0)return m("InvalidXml","Invalid '"+JSON.stringify(n.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return m("InvalidXml","Start tag expected.",1);return!0};function H(t){return t===" "||t==="	"||t===`
`||t==="\r"}function J(t,e){const n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const r=t.substr(n,e-n);if(e>5&&r==="xml")return m("InvalidXml","XML declaration allowed only at the start of the document.",N(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function K(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const Re='"',Le="'";function Ve(t,e){let n="",r="",s=!1;for(;e<t.length;e++){if(t[e]===Re||t[e]===Le)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){s=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:s}}const Xe=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Q(t,e){const n=V.getAllMatches(t,Xe),r={};for(let s=0;s<n.length;s++){if(n[s][1].length===0)return m("InvalidAttr","Attribute '"+n[s][2]+"' has no space in starting.",I(n[s]));if(n[s][3]!==void 0&&n[s][4]===void 0)return m("InvalidAttr","Attribute '"+n[s][2]+"' is without value.",I(n[s]));if(n[s][3]===void 0&&!e.allowBooleanAttributes)return m("InvalidAttr","boolean attribute '"+n[s][2]+"' is not allowed.",I(n[s]));const i=n[s][2];if(!Ue(i))return m("InvalidAttr","Attribute '"+i+"' is an invalid name.",I(n[s]));if(!r.hasOwnProperty(i))r[i]=1;else return m("InvalidAttr","Attribute '"+i+"' is repeated.",I(n[s]))}return!0}function qe(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function Me(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,qe(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function m(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function Ue(t){return V.isName(t)}function je(t){return V.isName(t)}function N(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function I(t){return t.startIndex+t[1].length}var X={};const ge={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1},We=function(t){return Object.assign({},ge,t)};X.buildOptions=We;X.defaultOptions=ge;class ze{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){this.child.push({[e]:n})}addChild(e){e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,[":@"]:e[":@"]}):this.child.push({[e.tagname]:e.child})}}var Ze=ze;function He(t,e){const n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,s=!1,i=!1,o=!1,a="";for(;e<t.length;e++)if(t[e]==="<"){if(s&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y")e+=7,i=!0;else if(s&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T")e+=8;else if(s&&t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T")e+=8;else if(s&&t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N")e+=9;else if(t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-")o=!0;else throw new Error("Invalid DOCTYPE");r++,a=""}else if(t[e]===">"){if(o)if(t[e-1]==="-"&&t[e-2]==="-")o=!1;else throw new Error("Invalid XML comment in DOCTYPE");else i&&(Ke(a,n),i=!1);if(r--,r===0)break}else t[e]==="["?s=!0:a+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}const Je=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function Ke(t,e){const n=Je.exec(t);n&&(e[n[1]]={regx:RegExp(`&${n[1]};`,"g"),val:n[3]})}var Qe=He;const De=/^[-+]?0x[a-fA-F0-9]+$/,et=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const tt={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function nt(t,e={}){if(e=Object.assign({},tt,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&De.test(n))return Number.parseInt(n,16);{const r=et.exec(n);if(r){const s=r[1],i=r[2];let o=rt(r[3]);const a=r[4]||r[6];if(!e.leadingZeros&&i.length>0&&s&&n[2]!==".")return t;if(!e.leadingZeros&&i.length>0&&!s&&n[1]!==".")return t;{const u=Number(n),c=""+u;return c.search(/[eE]/)!==-1||a?e.eNotation?u:t:n.indexOf(".")!==-1?c==="0"&&o===""||c===o||s&&c==="-"+o?u:t:i?o===c||s+o===c?u:t:n===c||n===s+c?u:t}}else return t}}function rt(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}var st=nt;const q=L,B=Ze,it=Qe,at=st;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,q.nameRegexp);class ut{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={amp:{regex:/&(amp|#38|#x26);/g,val:"&"},apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=ot,this.parseXml=gt,this.parseTextData=ct,this.resolveNameSpace=lt,this.buildAttributesMap=dt,this.isItStopNode=yt,this.replaceEntitiesValue=ht,this.readStopNodeData=Nt,this.saveTextToParentTag=pt}}function ot(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function ct(t,e,n,r,s,i,o){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));const a=this.options.tagValueProcessor(e,t,n,s,i);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?k(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?k(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function lt(t){if(this.options.removeNSPrefix){const e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}const ft=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function dt(t,e){if(!this.options.ignoreAttributes&&typeof t=="string"){const n=q.getAllMatches(t,ft),r=n.length,s={};for(let i=0;i<r;i++){const o=this.resolveNameSpace(n[i][1]);let a=n[i][4];const u=this.options.attributeNamePrefix+o;if(o.length)if(a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);const c=this.options.attributeValueProcessor(o,a,e);c==null?s[u]=a:typeof c!=typeof a||c!==a?s[u]=c:s[u]=k(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const i={};return i[this.options.attributesGroupName]=s,i}return s}}const gt=function(t){t=t.replace(/\r\n?/g,`
`);const e=new B("!xml");let n=e,r="",s="";for(let i=0;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="/"){const a=E(t,">",i,"Closing Tag is not closed.");let u=t.substring(i+2,a).trim();if(this.options.removeNSPrefix){const c=u.indexOf(":");c!==-1&&(u=u.substr(c+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),n&&(r=this.saveTextToParentTag(r,n,s)),s=s.substr(0,s.lastIndexOf(".")),n=this.tagsNodeStack.pop(),r="",i=a}else if(t[i+1]==="?"){let a=G(t,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const u=new B(a.tagName);u.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(u[":@"]=this.buildAttributesMap(a.tagExp,s)),n.addChild(u)}i=a.closeIndex+1}else if(t.substr(i+1,3)==="!--"){const a=E(t,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){const u=t.substring(i+4,a-2);r=this.saveTextToParentTag(r,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}i=a}else if(t.substr(i+1,2)==="!D"){const a=it(t,i);this.docTypeEntities=a.entities,i=a.i}else if(t.substr(i+1,2)==="!["){const a=E(t,"]]>",i,"CDATA is not closed.")-2,u=t.substring(i+9,a);if(r=this.saveTextToParentTag(r,n,s),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]);else{let c=this.parseTextData(u,n.tagname,s,!0,!1,!0);c==null&&(c=""),n.add(this.options.textNodeName,c)}i=a+2}else{let a=G(t,i,this.options.removeNSPrefix),u=a.tagName,c=a.tagExp,f=a.attrExpPresent,l=a.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,s,!1)),u!==e.tagname&&(s+=s?"."+u:u);const d=n;if(d&&this.options.unpairedTags.indexOf(d.tagname)!==-1&&(n=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,u)){let g="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)i=a.closeIndex;else{const b=this.readStopNodeData(t,u,l+1);if(!b)throw new Error(`Unexpected end of ${u}`);i=b.i,g=b.tagContent}const O=new B(u);u!==c&&f&&(O[":@"]=this.buildAttributesMap(c,s)),g&&(g=this.parseTextData(g,u,s,!0,f,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),O.add(this.options.textNodeName,g),n.addChild(O)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),c=u):c=c.substr(0,c.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const g=new B(u);u!==c&&f&&(g[":@"]=this.buildAttributesMap(c,s)),s=s.substr(0,s.lastIndexOf(".")),n.addChild(g)}else{const g=new B(u);this.tagsNodeStack.push(n),u!==c&&f&&(g[":@"]=this.buildAttributesMap(c,s)),n.addChild(g),n=g}r="",i=l}}else r+=t[i];return e.child},ht=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}}return t};function pt(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function yt(t,e,n){const r="*."+n;for(const s in t){const i=t[s];if(r===i||e===i)return!0}return!1}function mt(t,e,n=">"){let r,s="";for(let i=e;i<t.length;i++){let o=t[i];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else if(o===n[0])if(n[1]){if(t[i+1]===n[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function E(t,e,n,r){const s=t.indexOf(e,n);if(s===-1)throw new Error(r);return s+e.length-1}function G(t,e,n,r=">"){const s=mt(t,e+1,r);if(!s)return;let i=s.data;const o=s.index,a=i.search(/\s/);let u=i,c=!0;if(a!==-1&&(u=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),n){const f=u.indexOf(":");f!==-1&&(u=u.substr(f+1),c=u!==s.data.substr(f+1))}return{tagName:u,tagExp:i,closeIndex:o,attrExpPresent:c}}function Nt(t,e,n){const r=n;let s=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){const i=E(t,">",n,`${e} is not closed`);if(t.substring(n+2,i).trim()===e&&(s--,s===0))return{tagContent:t.substring(r,n),i};n=i}else if(t[n+1]==="?")n=E(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=E(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=E(t,"]]>",n,"StopNode is not closed.")-2;else{const i=G(t,n,">");i&&((i&&i.tagName)===e&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,n=i.closeIndex)}}function k(t,e,n){if(e&&typeof t=="string"){const r=t.trim();return r==="true"?!0:r==="false"?!1:at(t,n)}else return q.isExist(t)?t:""}var vt=ut,he={};function bt(t,e){return pe(t,e)}function pe(t,e,n){let r;const s={};for(let i=0;i<t.length;i++){const o=t[i],a=At(o);let u="";if(n===void 0?u=a:u=n+"."+a,a===e.textNodeName)r===void 0?r=o[a]:r+=""+o[a];else{if(a===void 0)continue;if(o[a]){let c=pe(o[a],e,u);const f=Pt(c,e);o[":@"]?Et(c,o[":@"],u,e):Object.keys(c).length===1&&c[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?c=c[e.textNodeName]:Object.keys(c).length===0&&(e.alwaysCreateTextNode?c[e.textNodeName]="":c=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(c)):e.isArray(a,u,f)?s[a]=[c]:s[a]=c}}}return typeof r=="string"?r.length>0&&(s[e.textNodeName]=r):r!==void 0&&(s[e.textNodeName]=r),s}function At(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(r!==":@")return r}}function Et(t,e,n,r){if(e){const s=Object.keys(e),i=s.length;for(let o=0;o<i;o++){const a=s[o];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Pt(t,e){const n=Object.keys(t).length;return!!(n===0||n===1&&t[e.textNodeName])}he.prettify=bt;const{buildOptions:_t}=X,wt=vt,{prettify:Tt}=he,Ot=R;class It{constructor(e){this.externalEntities={},this.options=_t(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const i=Ot.validate(e,n);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}const r=new wt(this.options);r.addExternalEntities(this.externalEntities);const s=r.parseXml(e);return this.options.preserveOrder||s===void 0?s:Tt(s,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");this.externalEntities[e]=n}}var Bt=It;const Ct=`
`;function St(t,e){return ye(t,e,"",0)}function ye(t,e,n,r){let s="",i="";e.format&&e.indentBy.length>0&&(i=Ct+""+e.indentBy.repeat(r));for(let o=0;o<t.length;o++){const a=t[o],u=$t(a);let c="";if(n.length===0?c=u:c=`${n}.${u}`,u===e.textNodeName){let g=a[u];xt(c,e)||(g=e.tagValueProcessor(u,g),g=me(g,e)),s+=i+g;continue}else if(u===e.cdataPropName){s+=i+`<![CDATA[${a[u][0][e.textNodeName]}]]>`;continue}else if(u===e.commentPropName){s+=i+`<!--${a[u][0][e.textNodeName]}-->`;continue}else if(u[0]==="?"){const g=D(a[":@"],e),O=u==="?xml"?"":i;let b=a[u][0][e.textNodeName];b=b.length!==0?" "+b:"",s+=O+`<${u}${b}${g}?>`;continue}const f=D(a[":@"],e);let l=i+`<${u}${f}`,d=ye(a[u],e,c,r+1);e.unpairedTags.indexOf(u)!==-1?e.suppressUnpairedNode?s+=l+">":s+=l+"/>":(!d||d.length===0)&&e.suppressEmptyNode?s+=l+"/>":s+=l+`>${d}${i}</${u}>`}return s}function $t(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(r!==":@")return r}}function D(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){let s=e.attributeValueProcessor(r,t[r]);s=me(s,e),s===!0&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${s}"`}return n}function xt(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function me(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const r=e.entities[n];t=t.replace(r.regex,r.val)}return t}var Ft=St;const Gt=Ft,kt={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],transformTagName:!1};function M(t){this.options=Object.assign({},kt,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Mt),this.processTextOrObjNode=Rt,this.options.format?(this.indentate=qt,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=Xt,this.buildObjNode=Lt):(this.buildTextNode=te,this.buildObjNode=ee),this.buildTextValNode=te,this.buildObjectNode=ee,this.replaceEntitiesValue=Vt,this.buildAttrPairStr=Yt}M.prototype.build=function(t){return this.options.preserveOrder?Gt(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};M.prototype.j2x=function(t,e){let n="",r="";for(let s in t)if(typeof t[s]!="undefined")if(t[s]===null)s[0]==="?"?r+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+s+"/"+this.tagEndChar;else if(t[s]instanceof Date)r+=this.buildTextNode(t[s],s,"",e);else if(typeof t[s]!="object"){const i=this.isAttribute(s);if(i)n+=this.buildAttrPairStr(i,""+t[s]);else if(s===this.options.textNodeName){let o=this.options.tagValueProcessor(s,""+t[s]);r+=this.replaceEntitiesValue(o)}else r+=this.buildTextNode(t[s],s,"",e)}else if(Array.isArray(t[s])){const i=t[s].length;for(let o=0;o<i;o++){const a=t[s][o];typeof a=="undefined"||(a===null?s[0]==="?"?r+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+s+"/"+this.tagEndChar:typeof a=="object"?r+=this.processTextOrObjNode(a,s,e):r+=this.buildTextNode(a,s,"",e))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){const i=Object.keys(t[s]),o=i.length;for(let a=0;a<o;a++)n+=this.buildAttrPairStr(i[a],""+t[s][i[a]])}else r+=this.processTextOrObjNode(t[s],s,e);return{attrStr:n,val:r}};function Yt(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'}function Rt(t,e,n){const r=this.j2x(t,n+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjNode(r.val,e,r.attrStr,n)}function ee(t,e,n,r){let s="</"+e+this.tagEndChar,i="";return e[0]==="?"&&(i="?",s=""),n&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+i+">"+t+s:this.options.commentPropName!==!1&&e===this.options.commentPropName&&i.length===0?this.indentate(r)+`<!--${t}-->`+this.newLine:this.indentate(r)+"<"+e+n+i+this.tagEndChar+t+this.indentate(r)+s}function Lt(t,e,n,r){return t!==""?this.buildObjectNode(t,e,n,r):e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+"/"+this.tagEndChar}function te(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+`<!--${t}-->`+this.newLine;{let s=this.options.tagValueProcessor(e,t);return s=this.replaceEntitiesValue(s),s===""&&this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode?this.indentate(r)+"<"+e+this.tagEndChar:this.indentate(r)+"<"+e+"/"+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+s+"</"+e+this.tagEndChar}}function Vt(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t}function Xt(t,e,n,r){return t===""&&this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode?this.indentate(r)+"<"+e+this.tagEndChar:this.indentate(r)+"<"+e+"/"+this.tagEndChar:t!==""?this.buildTextValNode(t,e,n,r):e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+"/"+this.tagEndChar}function qt(t){return this.options.indentBy.repeat(t)}function Mt(t){return t.startsWith(this.options.attributeNamePrefix)?t.substr(this.attrPrefixLen):!1}var Ut=M;const jt=R,Wt=Bt,zt=Ut;var Zt={XMLParser:Wt,XMLValidator:jt,XMLBuilder:zt};const Ht=["li","Necks"],Jt=[],P="@_",Kt=new Zt.XMLParser({ignoreAttributes:!1,allowBooleanAttributes:!0,attributeNamePrefix:P,isArray:(t,e,n,r)=>!!(Ht.includes(t)||r&&Jt.includes(t))}),Ne=t=>Kt.parse(t),ve=t=>fetch(t).then(e=>e.blob()).then(e=>e.text()),be="./cultivation/ACS/Settings",Qt=async t=>{const e=`${be}/${t}.xml`;return await ve(e)},Dt=async t=>{const e=`${be}/Language/OfficialEnglish/Settings/${t}.xml`;return await ve(e)},en=async t=>Ne(await Qt(t)),tn=async t=>Ne(await Dt(t));function h(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function y(t){return function e(n){return arguments.length===0||h(n)?e:t.apply(this,arguments)}}function p(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return h(n)?e:y(function(s){return t(n,s)});default:return h(n)&&h(r)?e:h(n)?y(function(s){return t(s,r)}):h(r)?y(function(s){return t(n,s)}):t(n,r)}}}function nn(t,e){t=t||[],e=e||[];var n,r=t.length,s=e.length,i=[];for(n=0;n<r;)i[i.length]=t[n],n+=1;for(n=0;n<s;)i[i.length]=e[n],n+=1;return i}function U(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(n){return e.apply(this,arguments)};case 2:return function(n,r){return e.apply(this,arguments)};case 3:return function(n,r,s){return e.apply(this,arguments)};case 4:return function(n,r,s,i){return e.apply(this,arguments)};case 5:return function(n,r,s,i,o){return e.apply(this,arguments)};case 6:return function(n,r,s,i,o,a){return e.apply(this,arguments)};case 7:return function(n,r,s,i,o,a,u){return e.apply(this,arguments)};case 8:return function(n,r,s,i,o,a,u,c){return e.apply(this,arguments)};case 9:return function(n,r,s,i,o,a,u,c,f){return e.apply(this,arguments)};case 10:return function(n,r,s,i,o,a,u,c,f,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function $(t,e,n){return function(){for(var r=[],s=0,i=t,o=0;o<e.length||s<arguments.length;){var a;o<e.length&&(!h(e[o])||s>=arguments.length)?a=e[o]:(a=arguments[s],s+=1),r[o]=a,h(a)||(i-=1),o+=1}return i<=0?n.apply(this,r):U(i,$(t,r,n))}}var rn=p(function(e,n){return e===1?y(n):U(e,$(e,[],n))}),Ae=rn;function _(t){return function e(n,r,s){switch(arguments.length){case 0:return e;case 1:return h(n)?e:p(function(i,o){return t(n,i,o)});case 2:return h(n)&&h(r)?e:h(n)?p(function(i,o){return t(i,r,o)}):h(r)?p(function(i,o){return t(n,i,o)}):y(function(i){return t(n,r,i)});default:return h(n)&&h(r)&&h(s)?e:h(n)&&h(r)?p(function(i,o){return t(i,o,s)}):h(n)&&h(s)?p(function(i,o){return t(i,r,o)}):h(r)&&h(s)?p(function(i,o){return t(n,i,o)}):h(n)?y(function(i){return t(i,r,s)}):h(r)?y(function(i){return t(n,i,s)}):h(s)?y(function(i){return t(n,r,i)}):t(n,r,s)}}}var sn=_(function(e,n,r){var s=r.length;if(e>=s||e<-s)return r;var i=(s+e)%s,o=nn(r);return o[i]=n(r[i]),o}),an=sn,w=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function un(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function j(t,e,n){return function(){if(arguments.length===0)return n();var r=arguments[arguments.length-1];if(!w(r)){for(var s=0;s<t.length;){if(typeof r[t[s]]=="function")return r[t[s]].apply(r,Array.prototype.slice.call(arguments,0,-1));s+=1}if(un(r)){var i=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return i(r)}}return n.apply(this,arguments)}}function on(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var C={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function cn(t,e){for(var n=0,r=e.length,s=Array(r);n<r;)s[n]=t(e[n]),n+=1;return s}function W(t){return Object.prototype.toString.call(t)==="[object String]"}var ln=y(function(e){return w(e)?!0:!e||typeof e!="object"||W(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),fn=ln,dn=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,n){return this.f(e,n)},t}();function gn(t){return new dn(t)}var hn=p(function(e,n){return U(e.length,function(){return e.apply(n,arguments)})}),pn=hn;function yn(t,e,n){for(var r=0,s=n.length;r<s;){if(e=t["@@transducer/step"](e,n[r]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}function ne(t,e,n){for(var r=n.next();!r.done;){if(e=t["@@transducer/step"](e,r.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function re(t,e,n,r){return t["@@transducer/result"](n[r](pn(t["@@transducer/step"],t),e))}var se=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator";function z(t,e,n){if(typeof t=="function"&&(t=gn(t)),fn(n))return yn(t,e,n);if(typeof n["fantasy-land/reduce"]=="function")return re(t,e,n,"fantasy-land/reduce");if(n[se]!=null)return ne(t,e,n[se]());if(typeof n.next=="function")return ne(t,e,n);if(typeof n.reduce=="function")return re(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var mn=function(){function t(e,n){this.xf=n,this.f=e}return t.prototype["@@transducer/init"]=C.init,t.prototype["@@transducer/result"]=C.result,t.prototype["@@transducer/step"]=function(e,n){return this.xf["@@transducer/step"](e,this.f(n))},t}(),Nn=p(function(e,n){return new mn(e,n)}),vn=Nn;function A(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var ie=Object.prototype.toString,bn=function(){return ie.call(arguments)==="[object Arguments]"?function(e){return ie.call(e)==="[object Arguments]"}:function(e){return A("callee",e)}}(),Ee=bn,An=!{toString:null}.propertyIsEnumerable("toString"),ae=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ue=function(){return arguments.propertyIsEnumerable("length")}(),En=function(e,n){for(var r=0;r<e.length;){if(e[r]===n)return!0;r+=1}return!1},Pn=y(typeof Object.keys=="function"&&!ue?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var n,r,s=[],i=ue&&Ee(e);for(n in e)A(n,e)&&(!i||n!=="length")&&(s[s.length]=n);if(An)for(r=ae.length-1;r>=0;)n=ae[r],A(n,e)&&!En(s,n)&&(s[s.length]=n),r-=1;return s}),S=Pn,_n=p(j(["fantasy-land/map","map"],vn,function(e,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return Ae(n.length,function(){return e.call(this,n.apply(this,arguments))});case"[object Object]":return z(function(r,s){return r[s]=e(n[s]),r},{},S(n));default:return cn(e,n)}})),Pe=_n,T=Number.isInteger||function(e){return e<<0===e},wn=p(function(e,n){var r=e<0?n.length+e:e;return W(n)?n.charAt(r):n[r]}),_e=wn,Tn=p(function(e,n){if(n!=null)return T(e)?_e(e,n):n[e]}),On=Tn,In=y(function(e){return function(){return e}}),Bn=In,Cn=y(function(e){for(var n=S(e),r=n.length,s=[],i=0;i<r;)s[i]=e[n[i]],i+=1;return s}),Sn=Cn;function $n(t,e,n){if(T(t)&&w(n)){var r=[].concat(n);return r[t]=e,r}var s={};for(var i in n)s[i]=n[i];return s[t]=e,s}var xn=y(function(e){return e==null}),Fn=xn,Gn=_(function t(e,n,r){if(e.length===0)return n;var s=e[0];if(e.length>1){var i=!Fn(r)&&A(s,r)?r[s]:T(e[1])?[]:{};n=t(Array.prototype.slice.call(e,1),n,i)}return $n(s,n,r)}),we=Gn,kn=_(function(e,n,r){return we([e],n,r)}),Te=kn;function Yn(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var Rn=y(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}),Y=Rn;function Oe(t,e,n,r){var s=function(o){for(var a=e.length,u=0;u<a;){if(t===e[u])return n[u];u+=1}e[u]=t,n[u]=o;for(var c in t)t.hasOwnProperty(c)&&(o[c]=r?Oe(t[c],e,n,!0):t[c]);return o};switch(Y(t)){case"Object":return s(Object.create(Object.getPrototypeOf(t)));case"Array":return s([]);case"Date":return new Date(t.valueOf());case"RegExp":return Yn(t);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return t.slice();default:return t}}function Ln(t){return t}var Vn=y(Ln),Ie=Vn;function oe(t){for(var e=[],n;!(n=t.next()).done;)e.push(n.value);return e}function ce(t,e,n){for(var r=0,s=n.length;r<s;){if(t(e,n[r]))return!0;r+=1}return!1}function Xn(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function qn(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var x=typeof Object.is=="function"?Object.is:qn;function le(t,e,n,r){var s=oe(t),i=oe(e);function o(a,u){return Z(a,u,n.slice(),r.slice())}return!ce(function(a,u){return!ce(o,u,a)},i,s)}function Z(t,e,n,r){if(x(t,e))return!0;var s=Y(t);if(s!==Y(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(s){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&Xn(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&x(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!x(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var i=n.length-1;i>=0;){if(n[i]===t)return r[i]===e;i-=1}switch(s){case"Map":return t.size!==e.size?!1:le(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size!==e.size?!1:le(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=S(t);if(o.length!==S(e).length)return!1;var a=n.concat([t]),u=r.concat([e]);for(i=o.length-1;i>=0;){var c=o[i];if(!(A(c,e)&&Z(e[c],t[c],a,u)))return!1;i-=1}return!0}var Mn=p(function(e,n){return Z(e,n,[],[])}),Be=Mn;function Un(t,e,n){var r,s;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(r=1/e;n<t.length;){if(s=t[n],s===0&&1/s===r)return n;n+=1}return-1}else if(e!==e){for(;n<t.length;){if(s=t[n],typeof s=="number"&&s!==s)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(e===null)return t.indexOf(e,n)}for(;n<t.length;){if(Be(t[n],e))return n;n+=1}return-1}function fe(t,e){return Un(e,t,0)>=0}function jn(t){return Object.prototype.toString.call(t)==="[object Object]"}var Wn=y(function(e){return Ae(e.length,e)}),Ce=Wn,zn=function(){function t(e,n,r,s){this.valueFn=e,this.valueAcc=n,this.keyFn=r,this.xf=s,this.inputs={}}return t.prototype["@@transducer/init"]=C.init,t.prototype["@@transducer/result"]=function(e){var n;for(n in this.inputs)if(A(n,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[n]),e["@@transducer/reduced"])){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,n){var r=this.keyFn(n);return this.inputs[r]=this.inputs[r]||[r,this.valueAcc],this.inputs[r][1]=this.valueFn(this.inputs[r][1],n),e},t}(),Zn=$(4,[],function(e,n,r,s){return new zn(e,n,r,s)}),Hn=Zn,Jn=$(4,[],j([],Hn,function(e,n,r,s){return z(function(i,o){var a=r(o),u=e(A(a,i)?i[a]:Oe(n,[],[],!1),o);return u&&u["@@transducer/reduced"]?on(i):(i[a]=u,i)},{},s)})),Kn=Jn,Qn=function(){function t(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return t.prototype.add=function(e){return!de(e,!0,this)},t.prototype.has=function(e){return de(e,!1,this)},t}();function de(t,e,n){var r=typeof t,s,i;switch(r){case"string":case"number":return t===0&&1/t===-1/0?n._items["-0"]?!0:(e&&(n._items["-0"]=!0),!1):n._nativeSet!==null?e?(s=n._nativeSet.size,n._nativeSet.add(t),i=n._nativeSet.size,i===s):n._nativeSet.has(t):r in n._items?t in n._items[r]?!0:(e&&(n._items[r][t]=!0),!1):(e&&(n._items[r]={},n._items[r][t]=!0),!1);case"boolean":if(r in n._items){var o=t?1:0;return n._items[r][o]?!0:(e&&(n._items[r][o]=!0),!1)}else return e&&(n._items[r]=t?[!1,!0]:[!0,!1]),!1;case"function":return n._nativeSet!==null?e?(s=n._nativeSet.size,n._nativeSet.add(t),i=n._nativeSet.size,i===s):n._nativeSet.has(t):r in n._items?fe(t,n._items[r])?!0:(e&&n._items[r].push(t),!1):(e&&(n._items[r]=[t]),!1);case"undefined":return n._items[r]?!0:(e&&(n._items[r]=!0),!1);case"object":if(t===null)return n._items.null?!0:(e&&(n._items.null=!0),!1);default:return r=Object.prototype.toString.call(t),r in n._items?fe(t,n._items[r])?!0:(e&&n._items[r].push(t),!1):(e&&(n._items[r]=[t]),!1)}}var Se=Qn,Dn=_(function(e,n,r){var s=Array.prototype.slice.call(r,0);return s.splice(e,n),s}),er=Dn;function tr(t,e){if(e==null)return e;if(T(t)&&w(e))return er(t,1,e);var n={};for(var r in e)n[r]=e[r];return delete n[t],n}function nr(t,e){if(T(t)&&w(e))return[].concat(e);var n={};for(var r in e)n[r]=e[r];return n}var rr=p(function t(e,n){if(n==null)return n;switch(e.length){case 0:return n;case 1:return tr(e[0],n);default:var r=e[0],s=Array.prototype.slice.call(e,1);return n[r]==null?nr(r,n):Te(r,t(s,n[r]),n)}}),sr=rr,ir=p(function(e,n){return sr([e],n)}),ar=ir;function ur(t){var e=Object.prototype.toString.call(t);return e==="[object Uint8ClampedArray]"||e==="[object Int8Array]"||e==="[object Uint8Array]"||e==="[object Int16Array]"||e==="[object Uint16Array]"||e==="[object Int32Array]"||e==="[object Uint32Array]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object BigInt64Array]"||e==="[object BigUint64Array]"}var or=y(function(e){return e!=null&&typeof e["fantasy-land/empty"]=="function"?e["fantasy-land/empty"]():e!=null&&e.constructor!=null&&typeof e.constructor["fantasy-land/empty"]=="function"?e.constructor["fantasy-land/empty"]():e!=null&&typeof e.empty=="function"?e.empty():e!=null&&e.constructor!=null&&typeof e.constructor.empty=="function"?e.constructor.empty():w(e)?[]:W(e)?"":jn(e)?{}:Ee(e)?function(){return arguments}():ur(e)?e.constructor.from(""):void 0}),cr=or,lr=y(function(e){for(var n={},r=0;r<e.length;)n[e[r][0]]=e[r][1],r+=1;return n}),fr=lr,dr=Kn(function(t,e){return e},null),gr=dr,hr=function(){function t(e,n){this.xf=n,this.f=e,this.set=new Se}return t.prototype["@@transducer/init"]=C.init,t.prototype["@@transducer/result"]=C.result,t.prototype["@@transducer/step"]=function(e,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](e,n):e},t}(),pr=p(function(e,n){return new hr(e,n)}),yr=pr,mr=p(j([],yr,function(t,e){for(var n=new Se,r=[],s=0,i,o;s<e.length;)o=e[s],i=t(o),n.add(i)&&r.push(o),s+=1;return r})),Nr=mr,vr=y(function(e){return e!=null&&Be(e,cr(e))}),br=vr,Ar=p(function(e,n){return function(r){return function(s){return Pe(function(i){return n(i,s)},r(e(s)))}}}),Er=Ar,Pr=p(function(e,n){return e.map(function(r){for(var s=n,i=0,o;i<r.length;){if(s==null)return;o=r[i],s=T(o)?_e(o,s):s[o],i+=1}return s})}),_r=Pr,wr=p(function(e,n){return _r([e],n)[0]}),Tr=wr,Or=y(function(e){return Er(Tr(e),we(e))}),Ir=Or,Br=p(function(e,n){return z(function(r,s){return r[s]=e(n[s],s,n),r},{},S(n))}),Cr=Br,Sr=p(function(e,n){for(var r={},s={},i=0,o=e.length;i<o;)s[e[i]]=1,i+=1;for(var a in n)s.hasOwnProperty(a)||(r[a]=n[a]);return r}),$e=Sr,xe=function(t){return{value:t,map:function(e){return xe(e(t))}}},$r=_(function(e,n,r){return e(function(s){return xe(n(s))})(r).value}),xr=$r,Fr=_(function(e,n,r){return xr(e,Bn(n),r)}),Gr=Fr,kr=y(function(e){var n=[];for(var r in e)A(r,e)&&(n[n.length]=[r,e[r]]);return n}),Yr=kr;const Rr=(t,e)=>({keys:t.map(n=>n[e]),list:t,map:gr(n=>n[e],t)}),Lr=(t,e)=>t.split(".").map(r=>Number.isInteger(Number.parseInt(r))?e(Number.parseInt(r)):e(r)).flat(),Vr=(t,e=Ie)=>Object.keys(t).map(n=>{const r=t[n],s=Lr(n,e),i=Ir(s);return Gr(i,r)}),Xr=(t,e,n=Ie)=>Vr(t,n).reduce((s,i)=>i(s),e),qr=Ce((t,e)=>fr(Pe(an(0,t),Yr(e)))),Fe=qr(t=>t.startsWith(P)?t.substring(P.length):t),Mr=t=>{const{subscribe:e,set:n}=ke(null);return{subscribe:e,init:async()=>{const r=await t();return n(r),r}}},v=["Head","Body","Face"],Ur={human:{name:"Human",setting:"Npc/Body/Human",language:"Npc/Body/Human",excludeNames:["HumanBody",...v]},snake:{name:"Snake",setting:"Npc/Body/YGAnimal_Snake",language:"Npc/Body/YGAnimal_Snake",excludeNames:["YGAnimal_SnakeBody",...v]},boar:{name:"Boar",setting:"Npc/Body/YGAnimal_Boar",language:"Npc/Body/YGAnimal_Boar",excludeNames:["YGAnimal_BoarBody",...v]},panda:{name:"Panda",setting:"Npc/Body/YGAnimal_Panda",language:"Npc/Body/YGAnimal_Panda",excludeNames:["YGAnimal_PandaBody",...v]},bull:{name:"Bull",setting:"Npc/Body/YGAnimal_Cattle",language:"Npc/Body/YGAnimal_Cattle",excludeNames:["YGAnimal_CattleBody",...v]},tiger:{name:"Tiger",setting:"Npc/Body/YGAnimal_CatTigerWolf",language:"Npc/Body/YGAnimal_CatTigerWolf",excludeNames:["YGAnimal_CTWBody",...v]},cat:{name:"Cat",setting:"Npc/Body/YGAnimal_CatTigerWolf",language:"Npc/Body/YGAnimal_CatTigerWolf",excludeNames:["YGAnimal_CTWBody",...v]},wolf:{name:"Wolf",setting:"Npc/Body/YGAnimal_CatTigerWolf",language:"Npc/Body/YGAnimal_CatTigerWolf",excludeNames:["YGAnimal_CTWBody",...v]},chicken:{name:"Chicken",setting:"Npc/Body/YGAnimal_Chicken",language:"Npc/Body/YGAnimal_Chicken",excludeNames:["YGAnimal_ChickenBody",...v]},frog:{name:"Frog",setting:"Npc/Body/YGAnimal_Frog",language:"Npc/Body/YGAnimal_Frog",excludeNames:["YGAnimal_FrogBody",...v]},bear:{name:"Bear",setting:"Npc/Body/YGAnimal_Bear",language:"Npc/Body/YGAnimal_Bear",excludeNames:["YGAnimal_BearBody",...v]},rabbit:{name:"Rabbit",setting:"Npc/Body/YGAnimal_Rabbit",language:"Npc/Body/YGAnimal_Rabbit",excludeNames:["YGAnimal_RabbitBody",...v]},turtle:{name:"Turtle",setting:"Npc/Body/YGAnimal_Turtle",language:"Npc/Body/YGAnimal_Turtle",excludeNames:["YGAnimal_TurtleBody",...v]}},F=Sn(Cr((t,e)=>({key:e,...t}),Ur)),jr=t=>typeof t=="number"?["li",t]:t==="DisplayName"?`${P}DisplayName`:t,Ge=t=>t.reduce((e,n)=>{if(n.Parts){const r=n.Parts.li.map(s=>({...Fe(s),PartGroup:n.PartGroup+"."+n.Name,ParentName:n.ParentName,ParentDisplayName:n.ParentDisplayName}));return[...e,$e(["Parts"],n),...Ge(r)]}else return[...e,n]},[]),Wr=async()=>{const t=F.map(a=>a.setting),e=F.map(a=>a.language),n=await Promise.all([...t.map(a=>en(a))]),r=await Promise.all([...e.map(a=>tn(a))]),s=n.map((a,u)=>{const f=Xr(r[u].Texts.List.Text,a.BodyDefs.List.BodyDef,jr).Part.Parts.li.map(l=>{var d;if((d=l.Parts)!=null&&d.li)return l.Parts.li.map(g=>Fe({...g,PartGroup:l[`${P}Name`],ParentName:l[`${P}Name`],ParentDisplayName:l[`${P}DisplayName`]}))}).flat().filter(l=>!br(l)&&l!==void 0&&l.Kind!=="Meridian");return Ge(f).map(l=>$e(["Function","Rate","Deadly","CantPractice"],l))}),i=F.reduce((a,u,c)=>({...a,[u.key]:s[c].map(f=>f.Name).filter(f=>{var l;return!((l=u.excludeNames)!=null&&l.includes(f))})}),{}),o=Nr(a=>a.Name,s.flat());return{species:i,...Rr(o,"Name")}},Zr=Mr(Wr),Hr=Ce((t,e,n)=>Te(e,On(t,n),ar(t,n)));export{P as A,_e as B,Yr as C,Nr as D,Cr as E,Sn as F,F as G,Pe as H,Ur as S,_,tn as a,Zr as b,Mr as c,Rr as d,br as e,z as f,en as g,w as h,gr as i,Xr as j,y as k,U as l,p as m,C as n,$e as o,On as p,j as q,Hr as r,Fe as s,jn as t,S as u,cn as v,fe as w,W as x,Kn as y,Se as z};
